<!DOCTYPE html>
{% extends './base.html' %}

<!--
This creates a table, displaying the questions,
along with the choices for each question, and
the votes each choice have recived.
-->

<html>

{% block content %}
<style>

table {
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #ddd;
  padding: 2px;
  width: 100px;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
  border: 1px solid black;
}

th, td, p {
  padding-top: 1px;
  padding-bottom: 1px;
  text-align: left;
}

</style>

{% if latest_question_list %}

<h1>Results</h1>
<table>
  <tr>
    <th>Question</th>
    <th>Choices</th>
    <th>Results</th>
  </tr>
  {% for question in latest_question_list %}
  <tr>
    <td>{{ question.question_text}}</td>
    <td>
      {% for choice in question.choice_set.all %}
      <p>
        {{ choice.choice_text }}
      </p>
      {% endfor %}
    </td>
    <td>
      {% for choice in question.choice_set.all %}
      <p>
        {{ choice.votes }}
      </p>
      {% endfor %}
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>
  No polls are available.
</p>
{% endif %}
{% endblock %}

</html>
